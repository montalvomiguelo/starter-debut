<style>
  {%- assign header_font = settings.type_header_font -%}
  {%- assign base_font = settings.type_base_font -%}
  {%- assign font_bold_titles = 0 -%}

  {{ header_font | font_face }}
  {{ base_font | font_face }}

  {%- if settings.type_bold_product_titles -%}
    {%- assign header_font_bold = header_font | font_modify: 'weight', 'bolder' -%}
    {%- assign font_bold_titles = 1 -%}
  {%- endif -%}

  {%- assign base_font_bold = base_font | font_modify: 'weight', 'bolder' -%}
  {%- assign base_font_italic = base_font | font_modify: 'style', 'italic' -%}
  {%- assign base_font_bold_italic = base_font_bold | font_modify: 'style', 'italic' -%}

  {{ header_font_bold | font_face }}
  {{ base_font_bold | font_face }}
  {{ base_font_italic | font_face }}
  {{ base_font_bold_italic | font_face }}

  :root {
    --color-text: {{ settings.color_text }};
    --color-body-text: {{ settings.color_body_text }};
    --color-sale-text: {{ settings.color_sale_text }};
    --color-borders: {{ settings.color_borders }};
    --color-button: {{ settings.color_button }};
    --color-button-text: {{ settings.color_button_text }};
    --color-small-button: {{ settings.color_small_button }};
    --color-small-button-text: {{ settings.color_small_button_text }};
    --color-text-field: {{ settings.color_text_field }};
    --color-text-field-text: {{ settings.color_text_field_text }};
    --color-image-overlay-text: {{ settings.color_image_overlay_text }};
    --color-image-overlay: {{ settings.color_image_overlay }};
    --color-body-bg: {{ settings.color_body_bg }};
    --color-bg-alt: {{ settings.color_body_text | color_modify: 'alpha', 0.05 }};
    --color-border-form: {{ settings.color_text | color_to_rgb | color_modify: 'alpha', 0.85 }};

    --opacity-image-overlay: {{ settings.image_overlay_opacity | divided_by: 100.00 }};

    {%- assign focus_states = 'color-text-focus color-overlay-text-focus color-btn-primary-focus color-small-button-focus' | split: ' ' -%}
    {%- assign base_settings = 'color_text color_image_overlay_text color_button color_small_button' | split: ' ' -%}

    {%- for state in focus_states -%}
      {%- assign setting = base_settings[forloop.index0] -%}
      {%- assign color = settings[setting] -%}
      {%- assign color_brightness = color | color_brightness -%}
      {%- assign focus_color = '' -%}

      {%- if color_brightness <= 25 -%}
        {%- assign focus_color = color | color_lighten: 25 -%}
      {%- elsif color_brightness <= 64 -%}
        {%- assign focus_color = color | color_lighten: 15 -%}
      {%- else -%}
        {%- assign focus_color = color | color_darken: 10 -%}
      {%- endif -%}

      --{{ state }}: {{ focus_color }};
    {%- endfor -%}

    --color-border-form-focus: {{ settings.color_text | color_darken: 10 | color_to_rgb | color_modify: 'alpha', 0.85 }};

    --icon-svg-select: url({{ 'icon-select.svg' | asset_url }});

    --font-weight-body--bold: {{ base_font_bold.weight | default: 700 }};
    --font-weight-header--bold: {{ header_font_bold.weight | default: 700 }};

    --font-stack-header: {{ header_font.family }}, {{ header_font.fallback_families }};
    --font-style-header: {{ header_font.style }};
    --font-weight-header: {{ header_font.weight }};

    --font-stack-body: {{ base_font.family }}, {{ base_font.fallback_families }};
    --font-style-body: {{ base_font.style }};
    --font-weight-body: {{ base_font.weight }};

    --font-size-header: {{ settings.type_header_base_size }}px;
    --font-bold-titles: {{ font_bold_titles }};

    --font-size-base: {{ settings.type_base_size }}px;

    --font-stack-cart-notification: "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;

    --font-size-mobile-input: 16px;
  }
</style>
